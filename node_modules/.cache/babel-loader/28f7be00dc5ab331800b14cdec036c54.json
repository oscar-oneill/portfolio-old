{"ast":null,"code":"var _jsxFileName = \"/Users/oscaroneill/Documents/Visual Studio Code/react/portfolio/src/routes/Update.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport UpdateForm from '../Components/UpdateForm';\nimport axios from 'axios';\nimport BlogConnection from '../API/BlogConnection';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Update = () => {\n  _s();\n\n  let id = window.location.pathname.slice(11);\n  const [data, setData] = useState(null);\n  const [isLoaded, setIsLoaded] = useState(false);\n  let token = localStorage.getItem('token');\n  document.title = 'Editing A Blog Post';\n  useEffect(() => {\n    getBlog();\n  }, []);\n\n  const getBlog = () => {\n    BlogConnection.get(`/posts/${id}`).then(res => {\n      setData(res.data);\n      setIsLoaded(true);\n    });\n  };\n\n  if (!token) {\n    window.location.href = '/blog';\n  } else {\n    if (!isLoaded) {\n      return 'Loading...';\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"submit_container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"submit_header\",\n          children: \"Edit A Blog Post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(UpdateForm, {\n          id: id,\n          newTitle: data.post_title,\n          newBlogger: data.blogger,\n          newText: data.post_text,\n          newImage: data.background_image,\n          newDescription: data.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }, this);\n    }\n  }\n};\n\n_s(Update, \"m6NLeap3WSlUB6eorWMOdGuXrbE=\");\n\n_c = Update;\nexport default Update;\n\nvar _c;\n\n$RefreshReg$(_c, \"Update\");","map":{"version":3,"sources":["/Users/oscaroneill/Documents/Visual Studio Code/react/portfolio/src/routes/Update.js"],"names":["React","useState","useEffect","UpdateForm","axios","BlogConnection","Update","id","window","location","pathname","slice","data","setData","isLoaded","setIsLoaded","token","localStorage","getItem","document","title","getBlog","get","then","res","href","post_title","blogger","post_text","background_image","description"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA0C,OAA1C;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,cAAP,MAA2B,uBAA3B;;;AAEA,MAAMC,MAAM,GAAG,MAAM;AAAA;;AACjB,MAAIC,EAAE,GAAGC,MAAM,CAACC,QAAP,CAAgBC,QAAhB,CAAyBC,KAAzB,CAA+B,EAA/B,CAAT;AACA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBZ,QAAQ,CAAC,IAAD,CAAhC;AACA,QAAM,CAACa,QAAD,EAAWC,WAAX,IAA0Bd,QAAQ,CAAC,KAAD,CAAxC;AACA,MAAIe,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAZ;AAEAC,EAAAA,QAAQ,CAACC,KAAT,GAAiB,qBAAjB;AAGAlB,EAAAA,SAAS,CAAC,MAAM;AACZmB,IAAAA,OAAO;AACV,GAFQ,EAEN,EAFM,CAAT;;AAKA,QAAMA,OAAO,GAAG,MAAM;AAClBhB,IAAAA,cAAc,CAACiB,GAAf,CAAoB,UAASf,EAAG,EAAhC,EACCgB,IADD,CACMC,GAAG,IAAI;AACTX,MAAAA,OAAO,CAACW,GAAG,CAACZ,IAAL,CAAP;AACAG,MAAAA,WAAW,CAAC,IAAD,CAAX;AACH,KAJD;AAKH,GAND;;AAQA,MAAI,CAACC,KAAL,EAAY;AACRR,IAAAA,MAAM,CAACC,QAAP,CAAgBgB,IAAhB,GAAuB,OAAvB;AACH,GAFD,MAEO;AACH,QAAI,CAACX,QAAL,EAAe;AACX,aAAO,YAAP;AACH,KAFD,MAEO;AACH,0BACI;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA,gCACI;AAAI,UAAA,SAAS,EAAC,eAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI,QAAC,UAAD;AACI,UAAA,EAAE,EAAEP,EADR;AAEI,UAAA,QAAQ,EAAEK,IAAI,CAACc,UAFnB;AAGI,UAAA,UAAU,EAAEd,IAAI,CAACe,OAHrB;AAII,UAAA,OAAO,EAAEf,IAAI,CAACgB,SAJlB;AAKI,UAAA,QAAQ,EAAEhB,IAAI,CAACiB,gBALnB;AAMI,UAAA,cAAc,EAAEjB,IAAI,CAACkB;AANzB;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ;AAaH;AACJ;AAGJ,CA7CD;;GAAMxB,M;;KAAAA,M;AA+CN,eAAeA,MAAf","sourcesContent":["import React, { useState, useEffect} from 'react'\nimport UpdateForm from '../Components/UpdateForm'\nimport axios from 'axios'\nimport BlogConnection from '../API/BlogConnection'\n\nconst Update = () => {\n    let id = window.location.pathname.slice(11)\n    const [data, setData] = useState(null)\n    const [isLoaded, setIsLoaded] = useState(false)\n    let token = localStorage.getItem('token')\n\n    document.title = 'Editing A Blog Post';\n\n\n    useEffect(() => {\n        getBlog()\n    }, [])\n\n\n    const getBlog = () => {\n        BlogConnection.get(`/posts/${id}`)\n        .then(res => {\n            setData(res.data)\n            setIsLoaded(true)\n        })\n    }\n\n    if (!token) {\n        window.location.href = '/blog'\n    } else {\n        if (!isLoaded) {\n            return 'Loading...'\n        } else {\n            return (\n                <div className=\"submit_container\">\n                    <h2 className=\"submit_header\">Edit A Blog Post</h2>\n                    <UpdateForm\n                        id={id}\n                        newTitle={data.post_title}\n                        newBlogger={data.blogger}\n                        newText={data.post_text}\n                        newImage={data.background_image}\n                        newDescription={data.description}\n                    />\n                </div>\n            )\n        }\n    }\n\n\n}\n\nexport default Update\n"]},"metadata":{},"sourceType":"module"}